# è§†é¢‘ä¿¡æ¯æå–å™¨ (Video Metadata Inspector)

ä¸€ä¸ªåŸºäº Tauri + React çš„æ¡Œé¢åº”ç”¨ï¼Œç”¨äºå¿«é€ŸæŸ¥çœ‹è§†é¢‘æ–‡ä»¶çš„å…ƒæ•°æ®å’Œç¼©ç•¥å›¾ã€‚æœ¬åº”ç”¨å†…ç½®äº† FFmpeg äºŒè¿›åˆ¶æ–‡ä»¶ä½œä¸º sidecarï¼Œæ”¯æŒè·¨å¹³å°è§†é¢‘å¤„ç†ã€‚

[English Documentation](README.md)

![Preview](./imgs/preview.png)

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ æ”¯æŒæ‹–æ”¾æˆ–é€‰æ‹©è§†é¢‘æ–‡ä»¶
- ğŸ–¼ï¸ è‡ªåŠ¨æå–å¹¶æ˜¾ç¤ºè§†é¢‘ç¼©ç•¥å›¾
- ğŸ“Š æå–è§†é¢‘å…ƒæ•°æ®ï¼ˆåˆ†è¾¨ç‡ã€å¸§ç‡ã€æ—¶é•¿ã€ç ç‡ç­‰ï¼‰
- ğŸ¯ ä½¿ç”¨æ¼‚äº®çš„å¡ç‰‡å¼å¸ƒå±€å±•ç¤ºè§†é¢‘ä¿¡æ¯
- ğŸ”„ æ”¯æŒé‡è¯•å¤„ç†å¤±è´¥çš„è§†é¢‘æ–‡ä»¶
- ğŸ—‘ï¸ æ”¯æŒåˆ é™¤å·²åŠ è½½çš„è§†é¢‘

## ä½¿ç”¨æ–¹æ³•

1. å¯åŠ¨åº”ç”¨
2. æ‹–æ”¾è§†é¢‘æ–‡ä»¶åˆ°åº”ç”¨çª—å£ï¼Œæˆ–ç‚¹å‡»ä¸»åŒºåŸŸé€‰æ‹©æ–‡ä»¶
3. åº”ç”¨å°†è‡ªåŠ¨å¤„ç†è§†é¢‘å¹¶æ˜¾ç¤ºå…ƒæ•°æ®å’Œç¼©ç•¥å›¾
4. å¦‚æœå¤„ç†å¤±è´¥ï¼Œå¯ä»¥ç‚¹å‡»é‡è¯•æŒ‰é’®é‡æ–°å¤„ç†
5. ç‚¹å‡»åˆ é™¤æŒ‰é’®å¯ä»¥ä»ç•Œé¢ä¸Šç§»é™¤è§†é¢‘

## ä¿®å¤åº”ç”¨æŸå

æˆ‘æ²¡æœ‰ Apple å¼€å‘è€…è´¦å·ï¼Œæ‰€ä»¥è¯·æŒ‰ç…§ä»¥ä¸‹å‘½ä»¤ä¿®å¤åº”ç”¨ï¼š

```shell
xattr -cr /Applications/Video\ Inspector.app
```

## æŠ€æœ¯æ ˆ

### å‰ç«¯

- **React**
- **TypeScript**
- **Tailwind CSS**
- **Vite**

### åç«¯

- **Rust**
- **Tauri**
- **FFmpeg**

## å®‰è£…ä¸è¿è¡Œ

### å‰ç½®æ¡ä»¶

- [Node.js](https://nodejs.org/) (v18+)
- [PNPM](https://pnpm.io/) (v10+)
- [Rust](https://www.rust-lang.org/) (æœ€æ–°ç¨³å®šç‰ˆ)
- [Cargo](https://doc.rust-lang.org/cargo/) (éš Rust ä¸€èµ·å®‰è£…)

### å¿«é€Ÿå¼€å§‹

```bash
# å…‹éš†ä»“åº“
git clone <repository-url>
cd video-inspector

# å®‰è£…å‰ç«¯ä¾èµ–
pnpm install

# ä¸‹è½½æ‰€æœ‰å¹³å°çš„ FFmpeg äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰
pnpm prepare-ffmpeg
# æˆ–è€…ä½¿ç”¨
pnpm download-ffmpeg

# ä¸‹è½½å½“å‰å¹³å°çš„ FFmpeg äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæ¨èç”¨äº CI/CDï¼‰
pnpm prepare-ffmpeg:current

# Windows ç”¨æˆ·ï¼ˆå¦‚æœä¸Šé¢çš„å‘½ä»¤ä¸å·¥ä½œï¼‰
pnpm prepare-ffmpeg:current:win
```

`pnpm prepare-ffmpeg` å‘½ä»¤ä¼šè‡ªåŠ¨ä¸‹è½½æ‰€æœ‰æ”¯æŒå¹³å°ï¼ˆmacOS x86_64ã€macOS ARM64ã€Windows x86_64ã€Linux x86_64ï¼‰çš„ FFmpeg å’Œ FFprobe äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶ä¸º Tauri sidecar ä½¿ç”¨è¿›è¡Œç»„ç»‡ã€‚

å¯¹äº CI/CD ç¯å¢ƒï¼Œä½ å¯ä»¥ä½¿ç”¨ `pnpm prepare-ffmpeg:current` æ¥è‡ªåŠ¨æ£€æµ‹å¹¶ä¸‹è½½å½“å‰å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™æ ·æ›´å¿«æ›´é«˜æ•ˆã€‚åœ¨ Windows ä¸Šï¼Œå¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ä½¿ç”¨ `pnpm prepare-ffmpeg:current:win`ã€‚

### æ‰‹åŠ¨å®‰è£… FFmpegï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æ›´å–œæ¬¢ä½¿ç”¨ç³»ç»Ÿå®‰è£…çš„ FFmpeg è€Œä¸æ˜¯å†…ç½®çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š

```bash
# å®‰è£… FFmpeg (macOS)
brew install ffmpeg

# å®‰è£… FFmpeg (Ubuntu/Debian)
sudo apt update && sudo apt install ffmpeg

# å®‰è£… FFmpeg (Windows)
# è¯·å‚è€ƒ FFmpeg å®˜æ–¹æ–‡æ¡£
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm tauri dev
```

### æ„å»ºåº”ç”¨

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm tauri build
```
